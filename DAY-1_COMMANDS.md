# DAY-1 COMMANDS

```sql
DROP TABLE if exists BOYS_HOSTEL;
CREATE TABLE BOYS_HOSTEL (
	STUDENT_ID INT GENERATED BY DEFAULT AS IDENTITY,
	NAME VARCHAR NOT NULL,
	AGE INT,
	ROOM_TYPE VARCHAR CHECK (ROOM_TYPE IN ('AC', 'NON-AC')),
	FOOD_PREFERENCE VARCHAR(30) CHECK (FOOD_PREFERENCE IN ('VEG', 'NON-VEG'))
);
INSERT INTO BOYS_HOSTEL (name, age,room_type,food_preference)
VALUES('AZEEZ',20,'AC','VEG'),
('Rahul Sharma', 19, 'AC', 'VEG'),
('Arjun Das', 21, 'NON-AC', 'NON-VEG'),
('Ishaan Khan', 20, 'AC', 'NON-VEG'),
('Vikram Singh', 22, 'NON-AC', 'VEG'),
('Siddharth Nair', 18, 'AC', 'VEG'),
('Aditya Verma', 20, 'NON-AC', 'NON-VEG'),
('Kabir Malhotra', 21, 'AC', 'NON-VEG'),
('Rohan Gupta', 19, 'NON-AC', 'VEG'),
('Zaid Ahmed', 22, 'AC', 'NON-VEG'),
('Manish Reddy', 20, 'NON-AC', 'NON-VEG'),
('Karthik Iyer', 21, 'AC', 'VEG'),
('Sahil Kapur', 19, 'NON-AC', 'VEG'),
('Yash Bansal', 20, 'AC', 'NON-VEG'),
('Varun Joshi', 21, 'NON-AC', 'NON-VEG'),
('Deepak Kumar', 22, 'AC', 'VEG');

--------------------------------------------------------------commands-------------------------------------------------------------------------------------------------

DDL COMMAND's Are used to define or modify sturcture of the schema of the database,sucah as creating tables or changing column types . DOESNOT NEED COMMIT OR ROLL BACK
DDL COMMANDS:CREATE
			   ALTER
			   DROP
			   TRUNCATE
			   RENAME
			   
CREATE: Used to create a new database, table, index, or view.

ALTER: Modifies an existing database object (e.g., adding a column to a table).

DROP: Deletes an entire table, database, or index. Warning: This is permanent.

TRUNCATE: Removes all records from a table but keeps the table structure intact.TRUNCATE IS FASTER THAN DELETE

RENAME: Renames a table or a column.


/* INDEX ? INDEXES ARE LIKE DIRECT ROUTE FOR SERCHING A ROW OR A COLUMN FROM A TABLE DIRECTLY,
###IF I NEED X ROW WHEN I USE SELECT * FROM BOYS_HOSTEL WHERE NAME = "AZEEZ" IT SEARCHES FOR WHOLE TABLE
FOR NAME AZEEZ BIT SLOW . BUT WHEN I CREATE AN INDEX FOR NAME COLUMN IT DIRECTLY POINTS TO NAME COLUMN
AND SEARCHES NAME = 'AZEEZ' INSTEAD OF LOOKING AND SERACHING IN WHOLE TABLE###*/

# CREATING INDEX SYNTAX

create index idx_name 
on Boys_Hostel (name);

/* # WHEN WE CREATE A INDEX ON COLUMN NAME WE NEED TO SELECT THE COLUMN NAME NOT THE INDEX NAME THE
INDEX IS LIKE MAP BUT IT DOESN'T VISIBLE TO US */

select name from boys_hostel
where name = 'AZEEZ';

--explain command shows us the execution plan of a query it is the primary tool for sql performance tunning--

EXPLAIN SELECT * FROM BOYS_HOSTEL WHERE NAME = 'AZEEZ';


---For changing constraints first we need to drop constraint----
alter table customers
alter name drop NOT NULL;


---changing or modifying data type----
alter table customers
alter column gender type char(5);


----TRUNCATE WILL REMOVES ALL RECORDS BUT NOT THE STRUCTURE OF THE TABLE------
TRUNCATE DIRECT REMOVES RECORDS FROM THE DATABASE NO ROLL BACK OR COMMIT WILL USE HERE

TRUNCATE BOYS_HOSTEL;

ROLLBACK;


SELECT * FROM BOYS_HOSTEL;

--------------------/*DML DATA MANIPULATION LANGUAGE----------------------------------
DML command are used to load ,modify ,and remove the data from the table
~INSERT
 UPDATE
 DELETE 
 MERGE`is not supported in postgre sql
 DML commands are going to work on data inside table,
 DML COMMANDS NEED COMMIT OR ROLL BACK.

INSERT INTO BOYS_HOSTEL (name, age,room_type,food_preference)
VALUES('ADAM',20,'NON-AC','NON-VEG');

*/
---changing or modifying or updating row values----
update customers
set signup_date = current_date
where signup_date = '7-04-2006';

---DELETE IS USED TO REMOVE ROWS FROM A TABLE---
DELETE FROM BOYS_HOSTEL
wHERE NAME = 'ADAM';



--------------DQL-----------------------------
. DQL (Data Query Language)
This is the most commonly used part of SQL, focused on retrieving data.

SELECT: Retrieves data from one or more tables. It is often combined with:

FROM: Specifies the table.

WHERE: Filters the results.

ORDER BY: Sorts the results. desc or asc must mention column name syntax: order by column_name desc;

GROUP BY: Groups rows that have the same values.

DQL command is combination of select, from ,where ,orderby, groupby ,having


SELECT * FROM BOYS_HOSTEL;

example:

SELECT 
    age, 
    name, 
    student_id, 
    food_preference, 
    COUNT(room_type) AS rooms_count
FROM boys_hostel
WHERE food_preference = 'NON-VEG'
GROUP BY age, name, student_id, food_preference
HAVING age > 19
ORDER BY age DESC;




4. DCL (Data Control Language)
These commands manage permissions and access control.

GRANT: Gives a user permission to access or perform tasks on the database.
WHY GRANT ? if we are a team and we want to show only particular results to stakeholders we use grant .


REVOKE: Takes away permissions previously granted to a user.





5. TCL (Transaction Control Language)
These commands manage transactions, ensuring that a series of steps either all succeed or all fail together (maintaining data integrity).

COMMIT: Permanently saves the changes made during the current transaction.

ROLLBACK: Undoes changes if an error occurs, returning the database to its previous state.

SAVEPOINT: Sets a point within a transaction to which you can later roll back.

COMMIT IS LIKE A SAVING DATA UNTIL HOW MUCH WE INSERTED,PERMANENTLY SAVED NO MATTER HOW MANY ROLL BACKS WE DID.

ROLLBACK IS IF I COMMITED UNTIL CERTAIN POINT OF RECORDS AND I WANT TO ROLL BACK IT GOES TO THAT SAVED OR COMMIT RECORDS BEFORE COMMIT 
NO MATTER HOW MANY RECORDS WE INSERTED WHEN WE USE ROLL BACK THE ENTIRE RECORDS WILL BE DELETED IS SIMILAR TO UNDO
```