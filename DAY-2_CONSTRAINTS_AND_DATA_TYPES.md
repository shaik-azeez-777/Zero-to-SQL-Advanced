# DAY-2 CONSTRAINTS AND DATA TYPES

```sql
SELECT * FROM information_schema.schemata 
WHERE schema_name = 'public';

SELECT table_name
FROM information_schema.tables
WHERE table_schema = 'public';

drop table if exists customers;
CREATE TABLE customers (
    customer_id INT primary key,
    name VARCHAR(50) NOT NULL ,
    city VARCHAR(50),
    gender CHAR(1),
    signup_date DATE DEFAULT CURRENT_DATE
);

INSERT INTO CUSTOMERS values (101,'Azeez','banglore','M','14-09-2005');
INSERT INTO CUSTOMERS values (102,'Vihas','Hyderabad','F','21-02-2007');
INSERT INTO CUSTOMERS values (103,'Shyam','Kurnool','F','27-06-2006');
INSERT INTO CUSTOMERS values (104,'Uday','Kadapa','M','30-10-2008');
INSERT INTO CUSTOMERS values (105,'Reddy','Kadapa','F','10-09-2009');
INSERT INTO CUSTOMERS values (106,'Tony','Hyderabad','M','4-02-2008');
INSERT INTO CUSTOMERS values (107,'Manu','Vizag','M','7-04-2006');
INSERT INTO CUSTOMERS values (108,'Varun','Vijayawada','M');



drop table IF EXISTS ORDERS;
CREATE TABLE orders (
    order_id INT NOT NULL,
    customer_id INT PRIMARY KEY REFERENCES CUSTOMERS(customer_id),
    order_date DATE,
    amount INT,
    status VARCHAR(20) CHECK(Status in ('DELIVERED','PENDING'))
);


INSERT INTO orders VALUES
(2,101,'2025-01-01',1200,'DELIVERED'),
(1,102,'2025-01-05',800,'DELIVERED'),
(3,103,'2025-01-03',1500,'PENDING'),
(4,104,'2025-01-07',2200,'DELIVERED'),
(3,105,'2025-01-08',500,'PENDING'),
(2,106,'2025-01-10',3000,'DELIVERED'),
(1,107,'2025-01-09',700,'PENDING');

select * from orders;
select * from customers;



--WHY CONSTARINTS?---
--HELP US TO AVOID INSERTING  Redundant/WRONG DATA--


----CONSTRAINTS----------------

-----PRIMARY KEY-----
/* PRIMARY KEY IS THE COMBINATION OF NOT NULL AND UNIQUE KEY,
IT DOESNOT ALLOWS DUPLICATES,THE VALUES MUST BE UNIQUE,
AND AVOIDS NULL VALUES
~A TABLE CAN CONTAINS ONLY ONE PRIMARY KEY (MUST HAVE)
BUT IF WE WANT PRIMARY KEY's MORE THAN ONE COLUMN
SYNTAX:CONSTAINTS TABLE NAME PRIMARY KEY (COLUMN,COLUMN),
*THE COMBINATION OF TWO COLUMN VALUES MUST BE UNIQUE 
EX: INSERT (1,AZEEZ) HERE TWO COLUMNS ARE PK
	INSERT  (1,LEGIT) IT WILL RUN SUCCESSFULLY,
	BECAUSE THE COMBINATION EITHER ONE VALUE MUST BE UNIQUE NOR TWO VALUES
	EX: INSERT(1,AZEEZ) ERROR
	and also if we create PK for more than one column we call it as 'COMPOSITE PK'
														 
MUST TWO TABLES CONTAINS SAME COLUMNS AS WELL WHEN REFERNCING 
TO PRIMARY KEY COLUMNS.
*WE CAN CREATE MULTIPLE FOREIGN KEYS,NOT NULL,CHECKS,UNIQUE BUT
WHEN IT COMES TO PRIMARY KEY A TABLE CAN CONTAIN ONLY ONE PRIMARY KEY!


----UNIQUE -----
IT DOESNOT ALLOWS DUPLICATES , THE VALUE MUST BE DIFFERENT IN ENTIRE COLUMN
IT ALLOWS NULL VALUE ONLY ONE IF MULTIPLE NULL VALUES IT THROWS ERROR

-----NOT NULL------
NOT NULL MAKE SURE US TO ENTER VALUE RELATES TO DATA TYPE IF NOT 
IT THROWS ERROR 

----CHECK  ----
CHECK IS LIKE A RULE, IF I WHAT THE DATA FROM STUDENTS
WHERE THE COLUMN MUST CONTAINS ONLY MALE,FEMALE THEN WE USE CHECK
OTHER THAN MALE OR FEMALE IT DOESN'T ALLOW TO STORE THAT DATA IN TABLE


----FOREIGN KEY-----
FOREIGN IS THE RELATION BETWEEN PARENT TABLE AND CHILD TABLE 
WITH OUT PARENT TABLE WE CANNOT USE FOREIGN KEY CONSTRAINT AND ALSO
THE RELATION FORMS BASED ON COMMON COLUMN,
EX: I HAVE TWO TABLES CUSTOMER TABLE AND ORDERS TABLE
HERE CUSTOMERS TABLE IS THE PARENT TABLE BECAUSE BEFORE WE NEED TO COUNT ORDERS
MAKE SURE THAT HE/SHE IS THE CUSTOMER FIRST,I MEAN THE TABLE WHICH IS REFERED BY OTHER TABLE
Is THE PARENT TABLE AND REFERING TABLE IS THE CHILD TABLE.
WHILE REFERENCES TO PARENT TABLE THE CHILD TABLE MUST HAVE SAME CUSTOMER_ID COLUMN WITH
SAME ID'S.
refering table column must be primary key or unique key.

-----Default-------------
SYNTAX:COLUMN_NAME DATATYPE Default 'Success' 

WHEN WE DON'T WANT NULL VALUES OR BLANKS WE USE DEFAULT 
EX:IF I AM DEVELOPING A FOOD DELIVERY APP WHEN SOMEONE PLACE A ORDER THEIR WILL BE
	STATUS OF THE ORDER I MEAN PENDING,ON THE WAY,DELIVERED,CANCELED !
	WHEN THE ORDER IS PLACED EVERY TIME I NEED TO INSERT A VALUES PENDING IT IS TIME TAKEN,
	SO I USE DEFAULT CONSTRANIT WHEN THE ORDER IS PLACED IT SHOWS BY DEFAULT PENDING .
AND ALSO WE NEED FEEDBACK FROM CUSTOMERS ABOUT APP OR FOOD SOME CUSTOMERS SUBMIT THE FEEDBACK
AND REMAINING LEAVES OR THEY DON'T VALUE IT AND BECOMES NULL OR BLANK ROWS. IT TAKES TIME 
TO TRANSFER DATA INTO CLEAN TO AVOID MESSY DATA. THAT'S WHY WE USE DEFAULT CONSTRAINT

-----GENERATED BY IDENTITY--------
IT IS USED TO AUTOGENERATE OR WITHOUT PRIMARY KEY, we can add unique values in table using this
EX: TRANS_ID instead of everytime inserting 1,2,3...
i just define column with generated by defualt as identity 
syntax:trans_id generated by default as identity
* while inserting values we must mention column names except identity column then insert into table_name (column names ) values()



---------DATA TYPES---------
*5 TYPES OF DATA TYPES
i)Numeric types:
	INT (whole numbers) int<10 digits else out of range error
	BIGINT (very large numbers) 
	decimal/numeric(precision,scale) > precision (the total number of digits allowed in entire number (count both sides of decimal point))
									> scale (the no of digits allowed after decimal point) ex:(10,2) i.e (10333317.00) total 10 8 digits
									before decimal point after decimal point 2 total 10
ii) Character/string types
	char() # default 1 and not fixed value N values can be assigned
	varchar() #inside parenthesis we need to assign number of strings ex: varchar (5) male,female and aslo n
	text () for very long documents or paragraph

iii)Binary Types (Files)
	boolean () true or false
	BLOB binary large object # used for pdfs,or storing pictures,audios files directly in files 


iv)DATE AND TIME TYPES

CREATE TABLE employee_schedule (
    emp_id INT PRIMARY KEY,
    birth_date DATE,                -- Use DATE (No time needed)
    shift_start TIME,               -- Use TIME (Same time every day)
    last_login TIMESTAMP,           -- Use TIMESTAMP (Need day and time)
    probation_period INTERVAL       -- Use INTERVAL (A duration of time)
);
*/
```